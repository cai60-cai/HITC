{"version":3,"file":"static/js/app.ebd5ed6b.js","mappings":"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","sources":["webpack://chat/./src/App.vue","webpack://chat/src/App.vue","webpack://chat/./src/App.vue?c036","webpack://chat/./src/App.vue?0e40","webpack://chat/./src/pages/Login.vue","webpack://chat/./src/axios.js","webpack://chat/src/pages/Login.vue","webpack://chat/./src/pages/Login.vue?20a0","webpack://chat/./src/pages/Login.vue?a178","webpack://chat/./src/pages/MainPage.vue","webpack://chat/./src/components/ChatWindow.vue","webpack://chat/src/components/ChatWindow.vue","webpack://chat/./src/components/ChatWindow.vue?9fd8","webpack://chat/./src/components/ChatWindow.vue?67ef","webpack://chat/src/pages/MainPage.vue","webpack://chat/./src/pages/MainPage.vue?98a5","webpack://chat/./src/pages/MainPage.vue?c99e","webpack://chat/./src/router/index.js","webpack://chat/./src/main.js","webpack://chat/webpack/bootstrap","webpack://chat/webpack/runtime/amd options","webpack://chat/webpack/runtime/chunk loaded","webpack://chat/webpack/runtime/compat get default export","webpack://chat/webpack/runtime/define property getters","webpack://chat/webpack/runtime/global","webpack://chat/webpack/runtime/hasOwnProperty shorthand","webpack://chat/webpack/runtime/make namespace object","webpack://chat/webpack/runtime/node module decorator","webpack://chat/webpack/runtime/jsonp chunk loading","webpack://chat/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n};\n</script>\n\n<style>\nbody, html, #app {\n  margin: 0;\n  height: 100%;\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1ac5290d\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=1ac5290d&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-register\"},[_c('div',{staticClass:\"login-container\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"Â∑•Â§ßËÅäÂ§©ÂÆ§\")]),_c('el-form',{staticClass:\"login-form\",attrs:{\"model\":_vm.loginForm},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.handleLogin.apply(null, arguments)}}},[_c('el-form-item',{attrs:{\"label\":\"Áî®Êà∑Âêç\"}},[_c('el-input',{model:{value:(_vm.loginForm.user_name),callback:function ($$v) {_vm.$set(_vm.loginForm, \"user_name\", $$v)},expression:\"loginForm.user_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"ÂØÜÁ†Å\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"login-button\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleLogin}},[_vm._v(\"ÁôªÂΩï\")])],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'http://172.20.109.1:3001',  // ‰øÆÊîπ‰∏∫ Nginx ÈÖçÁΩÆ‰∏≠ÂØπÂ∫îÁöÑË∑ØÂæÑ\r\n    timeout: 10000,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\nexport default instance;\r\n","<template>\r\n  <div class=\"login-register\">\r\n    <div class=\"login-container\">\r\n      <h2 class=\"title\">Â∑•Â§ßËÅäÂ§©ÂÆ§</h2>\r\n      <el-form :model=\"loginForm\" @submit.native.prevent=\"handleLogin\" class=\"login-form\">\r\n        <el-form-item label=\"Áî®Êà∑Âêç\">\r\n          <el-input v-model=\"loginForm.user_name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"ÂØÜÁ†Å\">\r\n          <el-input type=\"password\" v-model=\"loginForm.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"handleLogin\" class=\"login-button\">ÁôªÂΩï</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from '../axios';\r\n\r\nexport default {\r\n  name: 'LoginPage',\r\n  data() {\r\n    return {\r\n      loginForm: {\r\n        user_name: '',\r\n        password: ''\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    async handleLogin() {\r\n      try {\r\n        console.log(this.loginForm);\r\n        const response = await axios.post('/user/login', this.loginForm);\r\n        if (response.data && response.data.user_id) {\r\n          localStorage.setItem('userId', response.data.user_id); // Á°Æ‰øùËøôÈáåÂ≠òÂÇ®‰∫ÜÁî®Êà∑ ID\r\n          this.$router.push('/main');\r\n        } else {\r\n          this.$message.error('Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØ„ÄÇ');\r\n        }\r\n      } catch (error) {\r\n        this.$message.error(error.response ? error.response.data : 'ÁôªÂΩïÂ§±Ë¥•„ÄÇ');\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login-register {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  background: linear-gradient(135deg, #a0c4ff 0%, #c4f0ff 100%); /* Ê∑°ËìùËâ≤ËÉåÊôØ */\r\n}\r\n\r\n.login-container {\r\n  background-color: white;\r\n  padding: 30px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  width: 100%;\r\n  max-width: 400px;\r\n}\r\n\r\n.title {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n  font-size: 24px;\r\n  color: #333;\r\n}\r\n\r\n.login-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.el-form-item {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.login-button {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=1643532c&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=1643532c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1643532c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main-page\"},[_c('el-container',[_c('el-header',{staticClass:\"header\"},[_c('div',{staticClass:\"header-content\"},[_c('div',{staticClass:\"user-info\",on:{\"click\":_vm.triggerFileInput}},[_c('el-avatar',{staticClass:\"avatar\",attrs:{\"src\":_vm.currentUser.avatar,\"size\":\"large\"}}),_c('span',{staticClass:\"user_name\"},[_vm._v(_vm._s(_vm.currentUser.user_name))]),_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\"},on:{\"change\":_vm.handleFileChange}})],1),_c('span',{staticClass:\"header-title\"},[_vm._v(\"ÂìàÂ∑•Â§ßËÅäÂ§©ÂÆ§\")]),_c('el-button',{staticClass:\"logout-button\",attrs:{\"type\":\"danger\"},on:{\"click\":_vm.EXIT}},[_vm._v(\"EXIT\")])],1)]),_c('el-container',[_c('el-aside',{staticClass:\"sidebar\",attrs:{\"width\":\"300px\"}},[_c('el-autocomplete',{attrs:{\"placeholder\":\"Search friends\",\"fetch-suggestions\":_vm.searchFriends,\"trigger-on-focus\":false,\"popper-append-to-body\":\"\",\"popper-class\":'autocomplete-popper',\"clearable\":\"\"},on:{\"select\":_vm.handleSelect},scopedSlots:_vm._u([{key:\"default\",fn:function({ item }){return [_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.user_name))])]}}]),model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}}),_c('div',{staticClass:\"list-container\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Â•ΩÂèãÂàóË°®\")]),_c('el-scrollbar',{staticClass:\"friend-list\"},[_c('el-menu',{staticClass:\"el-menu-vertical-demo\"},_vm._l((_vm.friends),function(friend,index){return _c('el-menu-item',{key:friend.id,staticClass:\"friend-item\",attrs:{\"index\":index.toString()},on:{\"click\":function($event){return _vm.selectFriend(friend)}}},[_vm._v(\" \"+_vm._s(friend.username)+\" \")])}),1)],1)],1),_c('div',{staticClass:\"list-container\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Â•ΩÂèãËØ∑Ê±Ç\")]),_c('el-scrollbar',{staticClass:\"request-list\"},[_c('el-menu',{staticClass:\"el-menu-vertical-demo\"},_vm._l((_vm.friendRequests),function(request,index){return _c('el-menu-item',{key:request.id,staticClass:\"friend-item\",attrs:{\"index\":index.toString()}},[_vm._v(\" \"+_vm._s(request.senderuser_name)+\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"30px\"},attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.acceptFriendRequest(request.id)}}},[_vm._v(\"Êé•Âèó\")]),_c('el-button',{staticClass:\"reject-button\",staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"danger\",\"size\":\"mini\"}},[_vm._v(\"ÊãíÁªù\")])],1)}),1)],1)],1)],1),_c('el-container',{staticClass:\"content\"},[(_vm.selectedFriend && _vm.isFriend)?_c('chat-window',{attrs:{\"friend\":_vm.selectedFriend,\"messages\":_vm.messages,\"newMessage\":_vm.newMessage,\"currentUser\":_vm.currentUser},on:{\"send-message\":_vm.sendMessage,\"close-chat\":_vm.closeChat}}):_vm._e()],1)],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"title\":\"Add Friend\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('span',[_vm._v(\"Would you like to send a friend request to \"+_vm._s(_vm.selectedFriend?.user_name)+\"?\")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sendFriendRequest}},[_vm._v(\"Send\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-window\"},[_c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.friend.username))]),_c('el-button',{staticStyle:{\"background-color\":\"#20C997\",\"border-color\":\"#20C997\",\"color\":\"#FFFFFF\"},attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":_vm.closeChat}},[_vm._v(\" ÂÖ≥Èó≠ \")])],1),_c('div',{ref:\"messageContainer\",staticClass:\"message-container\"},_vm._l((_vm.localMessages),function(message){return _c('div',{key:message.id,staticClass:\"message\",class:{\n           'message-sent': message.senderId === _vm.currentUser.user_id,\n           'message-received': message.senderId !== _vm.currentUser.user_id}},[_c('div',{staticClass:\"message-content\"},[_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(message.content))])]),(message.senderId !== _vm.currentUser.user_id)?_c('div',{staticClass:\"message-avatar-left\"}):_c('div',{staticClass:\"message-avatar-right\"},[_c('el-avatar',{staticClass:\"avatar\",attrs:{\"src\":_vm.currentUser.avatar,\"size\":\"large\"}})],1)])}),0),_c('div',{staticClass:\"chat-box\"},[_vm._m(0),_c('div',{staticClass:\"message-input\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.localMessage),expression:\"localMessage\"}],staticClass:\"message-textarea\",attrs:{\"placeholder\":\"Type a message\"},domProps:{\"value\":(_vm.localMessage)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.sendMessage.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.localMessage=$event.target.value}}}),_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.closeChat}},[_vm._v(\"ÂÖ≥Èó≠\")]),_c('button',{staticClass:\"send-btn\",on:{\"click\":_vm.sendMessage}},[_vm._v(\"ÂèëÈÄÅ\")])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"toolbar\"},[_c('button',{staticClass:\"icon-btn\"},[_c('i',{staticClass:\"icon smiley\"})]),_c('button',{staticClass:\"icon-btn\"},[_c('i',{staticClass:\"icon scissors\"})]),_c('button',{staticClass:\"icon-btn\"},[_c('i',{staticClass:\"icon folder\"})]),_c('button',{staticClass:\"icon-btn\"},[_c('i',{staticClass:\"icon image\"})]),_c('button',{staticClass:\"icon-btn\"},[_c('i',{staticClass:\"icon phone\"})]),_c('button',{staticClass:\"icon-btn\"},[_c('i',{staticClass:\"icon envelope\"})]),_c('button',{staticClass:\"icon-btn\"},[_c('i',{staticClass:\"icon microphone\"})]),_c('button',{staticClass:\"icon-btn\"},[_c('i',{staticClass:\"icon clock\"})])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"chat-window\">\r\n    <div class=\"header\">\r\n      <span class=\"title\">{{friend.username}}</span>\r\n      <el-button\r\n          type=\"danger\"\r\n          size=\"mini\"\r\n          @click=\"closeChat\"\r\n          style=\"background-color: #20C997; border-color: #20C997; color: #FFFFFF;\">\r\n        ÂÖ≥Èó≠\r\n      </el-button>\r\n    </div>\r\n    <div class=\"message-container\" ref=\"messageContainer\">\r\n      <div\r\n          class=\"message\"\r\n          v-for=\"message in localMessages\"\r\n          :key=\"message.id\"\r\n          :class=\"{\r\n           'message-sent': message.senderId === currentUser.user_id,\r\n           'message-received': message.senderId !== currentUser.user_id}\"\r\n      >\r\n\r\n        <div class=\"message-content\">\r\n          <div class=\"text\">{{ message.content }}</div>\r\n        </div>\r\n        <div v-if=\"message.senderId !== currentUser.user_id\" class=\"message-avatar-left\">\r\n<!--          <el-avatar :src=\"message.senderAvatarUrl\" size=\"large\" class=\"avatar\"></el-avatar>-->\r\n        </div>\r\n        <div v-else class=\"message-avatar-right\">\r\n          <el-avatar :src=\"currentUser.avatar\" size=\"large\" class=\"avatar\"></el-avatar>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"chat-box\">\r\n      <div class=\"toolbar\">\r\n        <button class=\"icon-btn\"><i class=\"icon smiley\"></i></button>\r\n        <button class=\"icon-btn\"><i class=\"icon scissors\"></i></button>\r\n        <button class=\"icon-btn\"><i class=\"icon folder\"></i></button>\r\n        <button class=\"icon-btn\"><i class=\"icon image\"></i></button>\r\n        <button class=\"icon-btn\"><i class=\"icon phone\"></i></button>\r\n        <button class=\"icon-btn\"><i class=\"icon envelope\"></i></button>\r\n        <button class=\"icon-btn\"><i class=\"icon microphone\"></i></button>\r\n        <button class=\"icon-btn\"><i class=\"icon clock\"></i></button>\r\n      </div>\r\n      <div class=\"message-input\">\r\n      <textarea\r\n          v-model=\"localMessage\"\r\n          placeholder=\"Type a message\"\r\n          @keyup.enter=\"sendMessage\"\r\n          class=\"message-textarea\"\r\n      ></textarea>\r\n        <div class=\"buttons\">\r\n          <button class=\"close-btn\" @click=\"closeChat\">ÂÖ≥Èó≠</button>\r\n          <button class=\"send-btn\" @click=\"sendMessage\">ÂèëÈÄÅ</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n<!--    <div class=\"input-container\">-->\r\n<!--      <el-input-->\r\n<!--          v-model=\"localMessage\"-->\r\n<!--          placeholder=\"Type a message\"-->\r\n<!--          @keyup.enter=\"sendMessage\"-->\r\n<!--      />-->\r\n<!--      <el-button type=\"primary\" @click=\"sendMessage\">ÂèëÈÄÅ</el-button>-->\r\n<!--    </div>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  props: {\r\n    friend: Object,\r\n    messages: Array,\r\n    currentUser: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      localMessage: '',\r\n      localMessages: [],\r\n      localcurrentUser: {\r\n        user_id: null,\r\n        user_name: '',\r\n        avatar: ''\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    messages: {\r\n      handler(newMessages) {\r\n        this.localMessages = [...newMessages];\r\n        this.scrollToBottom();\r\n\r\n      },\r\n      immediate: true,\r\n    },\r\n  },\r\n  methods: {\r\n    async fetchCurrentUser() {\r\n      const user_id = localStorage.getItem('userId');\r\n      if (!user_id) {\r\n        this.$router.push('/');\r\n        return;\r\n      }\r\n      try {\r\n        const response = await axios.get(`/user/${user_id}`);\r\n        this.localCurrentUser = response.data;\r\n        const baseUrl = 'http://127.0.0.1:3000/server';\r\n        this.localCurrentUser.avatar = `${baseUrl}${this.localCurrentUser.avatar}`;\r\n      } catch (error) {\r\n        console.error(error);\r\n        this.$message.error('Failed to fetch user information.');\r\n      }\r\n    },\r\n\r\n    async sendMessage() {\r\n      if (!this.localMessage.trim()) return;\r\n\r\n      const message = {\r\n        senderId: this.currentUser.user_id,\r\n        receiverId: this.friend.friendId,\r\n        content: this.localMessage,\r\n        senderUsername: this.currentUser.user_name,\r\n        messageContent: this.localMessage,\r\n        senderAvatarUrl: this.currentUser.avatar\r\n      };\r\n\r\n      try {\r\n        const response = await axios.post('http://localhost:3001/user/sendMessage', message);\r\n        this.localMessages.push({\r\n          ...message,\r\n          id: response.data.id, // ‰ΩøÁî®ÂìçÂ∫îÁöÑIDÊõ¥Êñ∞Êú¨Âú∞Ê∂àÊÅØ\r\n          timestamp: new Date().toISOString(),\r\n        });\r\n        this.localMessage = '';\r\n        this.scrollToBottom();\r\n      } catch (error) {\r\n        console.error('Error sending message:', error);\r\n      }\r\n    },\r\n    closeChat() {\r\n      this.$emit('close-chat');\r\n    },\r\n    scrollToBottom() {\r\n      this.$nextTick(() => {\r\n        const container = this.$refs.messageContainer;\r\n        container.scrollTop = container.scrollHeight;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.chat-window {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 95%;\r\n  width: 100%;\r\n  border-radius: 15px;\r\n  border: 1px solid #ccc;\r\n  background: white;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 1px solid #ccc;\r\n  padding: 10px;\r\n  background: #007BFF;\r\n  color: white;\r\n}\r\n\r\n.title {\r\n  font-size: 1.5em;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  flex: 1;\r\n  color: white;\r\n}\r\n\r\n.message-container {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 10px;\r\n  border-bottom: 1px solid #ccc;\r\n  background: #F8F9FA;\r\n}\r\n\r\n.message {\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.message-sent {\r\n  justify-content: flex-end;\r\n}\r\n\r\n.message-received {\r\n  justify-content: flex-start;\r\n}\r\n\r\n.message-content {\r\n  display: flex;\r\n  align-items: center;\r\n  max-width: 80%;\r\n}\r\n\r\n.text {\r\n  background-color: #20C997;\r\n  padding: 10px;\r\n  border-radius: 10px;\r\n  word-wrap: break-word;\r\n  word-break: break-all;\r\n  font-size: 18px; /* ËÆæÁΩÆÂü∫Á°ÄÂ≠ó‰ΩìÂ§ßÂ∞è */\r\n}\r\n\r\n.message-sent .text {\r\n  background-color: #007BFF;\r\n  color: white;\r\n  font-size: 20px; /* ËÆæÁΩÆÂèëÈÄÅÊ∂àÊÅØÁöÑÂ≠ó‰ΩìÂ§ßÂ∞è */\r\n}\r\n\r\n.message-received .text {\r\n  background-color: white;\r\n  color: black;\r\n  font-size: 20px; /* ËÆæÁΩÆÊé•Êî∂Ê∂àÊÅØÁöÑÂ≠ó‰ΩìÂ§ßÂ∞è */\r\n}\r\n\r\n\r\n.input-container {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px;\r\n  border-top: 1px solid #ccc;\r\n  background-color: white;\r\n}\r\n\r\n.el-input {\r\n  flex: 1;\r\n  margin-right: 10px;\r\n}\r\n\r\n.chat-box {\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #f5f5f5;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n}\r\n\r\n.toolbar {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  padding: 5px;\r\n  background: #f5f5f5;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.icon-btn {\r\n  background: none;\r\n  border: none;\r\n  padding: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.icon {\r\n  font-size: 20px;\r\n}\r\n\r\n.smiley::before { content: 'üòä'; }\r\n.scissors::before { content: '‚úÇÔ∏è'; }\r\n.folder::before { content: 'üìÅ'; }\r\n.image::before { content: 'üñºÔ∏è'; }\r\n.phone::before { content: 'üìû'; }\r\n.envelope::before { content: '‚úâÔ∏è'; }\r\n.microphone::before { content: 'üé§'; }\r\n.clock::before { content: 'üïí'; }\r\n\r\n.message-input {\r\n  display: flex;\r\n  background: #f5f5f5;\r\n  flex-direction: column;\r\n  margin-top: 10px;\r\n}\r\n\r\ntextarea {\r\n  resize: none;\r\n  height: 150px; /* Ë∞ÉÊï¥ÊñáÊú¨Ê°ÜÁöÑÈ´òÂ∫¶ */\r\n  background-color: #f5f5f5; /* ËÆæÁΩÆËÉåÊôØËâ≤‰∏∫ÊµÖÁÅ∞Ëâ≤ */\r\n  border: none; /* ÂéªÊéâËæπÊ°Ü */\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.buttons {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.close-btn, .send-btn {\r\n  background-color: #fff;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  padding: 10px 20px;\r\n  margin-left: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.send-btn {\r\n  background-color: #007bff;\r\n  color: white;\r\n  border: none;\r\n}\r\n.message-avatar-left {\r\n  margin-right: 10px;\r\n  order: 1; /* Â∞ÜÂ§¥ÂÉèÊéíÂú®Â∑¶Ëæπ */\r\n}\r\n\r\n.message-avatar-right {\r\n  margin-left: 10px;\r\n  order: 3; /* Â∞ÜÂ§¥ÂÉèÊéíÂú®Âè≥Ëæπ */\r\n}\r\n\r\n.avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatWindow.vue?vue&type=template&id=6a509f36&scoped=true\"\nimport script from \"./ChatWindow.vue?vue&type=script&lang=js\"\nexport * from \"./ChatWindow.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChatWindow.vue?vue&type=style&index=0&id=6a509f36&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a509f36\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"main-page\">\r\n    <el-container>\r\n      <el-header class=\"header\">\r\n        <div class=\"header-content\">\r\n          <div class=\"user-info\" @click=\"triggerFileInput\">\r\n            <el-avatar :src=\"currentUser.avatar\" size=\"large\" class=\"avatar\"></el-avatar>\r\n            <span class=\"user_name\">{{ currentUser.user_name }}</span>\r\n            <input type=\"file\" ref=\"fileInput\" style=\"display: none\" @change=\"handleFileChange\" />\r\n          </div>\r\n          <span class=\"header-title\">ÂìàÂ∑•Â§ßËÅäÂ§©ÂÆ§</span>\r\n          <el-button class=\"logout-button\" type=\"danger\" @click=\"EXIT\">EXIT</el-button>\r\n        </div>\r\n      </el-header>\r\n      <el-container>\r\n        <el-aside width=\"300px\" class=\"sidebar\">\r\n          <el-autocomplete\r\n              v-model=\"searchQuery\"\r\n              placeholder=\"Search friends\"\r\n              :fetch-suggestions=\"searchFriends\"\r\n              @select=\"handleSelect\"\r\n              :trigger-on-focus=\"false\"\r\n              popper-append-to-body\r\n              :popper-class=\"'autocomplete-popper'\"\r\n              clearable\r\n          >\r\n            <template slot-scope=\"{ item }\">\r\n              <div class=\"name\">{{ item.user_name }}</div>\r\n            </template>\r\n          </el-autocomplete>\r\n          <div class=\"list-container\">\r\n            <div class=\"title\">Â•ΩÂèãÂàóË°®</div>\r\n            <el-scrollbar class=\"friend-list\">\r\n              <el-menu class=\"el-menu-vertical-demo\">\r\n                <el-menu-item\r\n                    v-for=\"(friend, index) in friends\"\r\n                    :key=\"friend.id\"\r\n                    :index=\"index.toString()\"\r\n                    @click=\"selectFriend(friend)\"\r\n                    class=\"friend-item\"\r\n                >\r\n                  {{ friend.username }}\r\n                </el-menu-item>\r\n              </el-menu>\r\n            </el-scrollbar>\r\n          </div>\r\n          <div class=\"list-container\">\r\n            <div class=\"title\">Â•ΩÂèãËØ∑Ê±Ç</div>\r\n            <el-scrollbar class=\"request-list\">\r\n              <el-menu class=\"el-menu-vertical-demo\">\r\n                <el-menu-item\r\n                    v-for=\"(request, index) in friendRequests\"\r\n                    :key=\"request.id\"\r\n                    :index=\"index.toString()\"\r\n                    class=\"friend-item\"\r\n                >\r\n                  {{ request.senderuser_name }}\r\n                  <el-button\r\n                      type=\"success\"\r\n                      size=\"mini\"\r\n                      @click=\"acceptFriendRequest(request.id)\"\r\n                      style=\"margin-left: 30px\"\r\n                  >Êé•Âèó</el-button>\r\n                  <el-button\r\n                      type=\"danger\"\r\n                      size=\"mini\"\r\n                      class=\"reject-button\"\r\n                      style=\"margin-left: 5px\"\r\n                  >ÊãíÁªù</el-button>\r\n                </el-menu-item>\r\n              </el-menu>\r\n            </el-scrollbar>\r\n          </div>\r\n        </el-aside>\r\n        <el-container class=\"content\">\r\n          <chat-window\r\n              v-if=\"selectedFriend && isFriend\"\r\n              :friend=\"selectedFriend\"\r\n              :messages=\"messages\"\r\n              :newMessage=\"newMessage\"\r\n              :currentUser=\"currentUser\"\r\n              @send-message=\"sendMessage\"\r\n              @close-chat=\"closeChat\"\r\n          ></chat-window>\r\n        </el-container>\r\n      </el-container>\r\n    </el-container>\r\n    <el-dialog :visible.sync=\"dialogVisible\" title=\"Add Friend\">\r\n      <span>Would you like to send a friend request to {{ selectedFriend?.user_name }}?</span>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">Cancel</el-button>\r\n        <el-button type=\"primary\" @click=\"sendFriendRequest\">Send</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from '../axios';\r\nimport ChatWindow from '../components/ChatWindow.vue';\r\n\r\n\r\nexport default {\r\n  name: 'MainPage',\r\n  components: {\r\n    ChatWindow\r\n  },\r\n  data() {\r\n    return {\r\n      searchQuery: '',\r\n      friends: [],\r\n      friendRequests: [],\r\n      selectedFriend: null,\r\n      messages: [],\r\n      newMessage: '',\r\n      currentUser: {},\r\n      isFriend: false,\r\n      dialogVisible: false\r\n    };\r\n  },\r\n  async created() {\r\n    await this.fetchCurrentUser();\r\n    await this.fetchFriends();\r\n    await this.fetchFriendRequests();\r\n  },\r\n  methods: {\r\n    async fetchCurrentUser() {\r\n      const user_id = localStorage.getItem('userId');\r\n      if (!user_id) {\r\n        this.$router.push('/');\r\n        return;\r\n      }\r\n      try {\r\n        const response = await axios.get(`/user/${user_id}`);\r\n        this.currentUser = response.data;\r\n        // ÊãºÊé•Ëá™ÂÆö‰πâÁöÑÂü∫ÁΩëÂùÄ\r\n        const baseUrl = 'http://127.0.0.1:3000/server';\r\n        this.currentUser.avatar = `${baseUrl}${this.currentUser.avatar}`;\r\n      } catch (error) {\r\n        console.error(error);\r\n        this.$message.error('Failed to fetch user information.');\r\n      }\r\n    },\r\n    async fetchFriends() {\r\n      try {\r\n        const user_id = localStorage.getItem('userId');\r\n        const response = await axios.get(`/user/friends/${user_id}`);\r\n        this.friends = response.data.filter(friend => friend.id !== this.currentUser.user_id).map(friend => {\r\n          console.log(\"sssssssssssss\");\r\n          console.log(response.data);\r\n          console.log(\"sssssssssssss\");\r\n          console.log(friend);\r\n          return friend;\r\n        });\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    async fetchFriendRequests() {\r\n      try {\r\n        const userId = localStorage.getItem('userId');\r\n        const response = await axios.get(`/user/friendRequests?userId=${userId}`);\r\n        this.friendRequests = response.data.map(request => {\r\n          request.avatar = `http://localhost:3001${request.avatar}`;\r\n          return request;\r\n        });\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    triggerFileInput() {\r\n      this.$refs.fileInput.click();\r\n    },\r\n    handleFileChange(event) {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        this.uploadAvatar(file);\r\n      }\r\n    },\r\n    async uploadAvatar(file) {\r\n      const userId = localStorage.getItem('userId');\r\n      const formData = new FormData();\r\n      formData.append('avatar', file);\r\n      try {\r\n        const response = await axios.post(`http://localhost:3001/user/uploadAvatar/${userId}`, formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        });\r\n        this.currentUser.avatar = `http://localhost:3001${response.data.avatar}`;\r\n      } catch (error) {\r\n        console.error(error);\r\n        this.$message.error('Failed to upload avatar.');\r\n      }\r\n    },\r\n\r\n    async searchFriends(queryString, callback) {\r\n      try {\r\n        const response = await axios.get('/user/search', {\r\n          params: { user_name: queryString }\r\n        });\r\n        const results = response.data.filter(user => user.user_id !== this.currentUser.user_id).map(user => {\r\n          user.avatar = `http://localhost:3001${user.avatar}`;\r\n          return user;\r\n        });\r\n        callback(results.map(user => ({\r\n          value: user.user_name,\r\n          ...user\r\n        })));\r\n      } catch (error) {\r\n        console.error(error);\r\n        callback([]);\r\n      }\r\n    },\r\n    handleSelect(item) {\r\n      // Ê£ÄÊü•Â•ΩÂèãÊòØÂê¶Âú®Â•ΩÂèãÂàóË°®‰∏≠\r\n      const isFriend = this.friends.some(friend => friend.username === item.user_name);\r\n\r\n      if (isFriend) {\r\n        // Â¶ÇÊûúÂú®Â•ΩÂèãÂàóË°®‰∏≠ÔºåÈÄâÊã©Â•ΩÂèãËøõË°åËÅäÂ§©\r\n        const friend = this.friends.find(friend => friend.username === item.user_name);\r\n        this.selectFriend(friend);\r\n      } else {\r\n        // Â¶ÇÊûú‰∏çÂú®Â•ΩÂèãÂàóË°®‰∏≠ÔºåÊòæÁ§∫Âä†Â•ΩÂèãÂØπËØùÊ°ÜÔºåÂπ∂Á°Æ‰øùËÅäÂ§©Á™óÂè£‰∏çÊòæÁ§∫\r\n        this.selectedFriend = item;\r\n        this.isFriend = false;\r\n        this.dialogVisible = true;\r\n      }\r\n      // Ê∏ÖÁ©∫ËæìÂÖ•Ê°Ü\r\n      this.searchQuery = '';\r\n    },\r\n\r\n    async selectFriend(friend) {\r\n      // Ê£ÄÊü•ÊòØÂê¶Âú®Â•ΩÂèãÂàóË°®‰∏≠\r\n      this.isFriend = this.friends.some(f => f.id === friend.id);\r\n      if (this.isFriend) {\r\n        this.selectedFriend = friend;\r\n        await this.fetchMessages(friend.friendId);\r\n      } else {\r\n        this.selectedFriend = null;\r\n        this.dialogVisible = true;\r\n      }\r\n    },\r\n    async fetchMessages(friendId) {\r\n      try {\r\n        const response = await axios.get('/user/messages', {\r\n          params: { userId1: this.currentUser.user_id, userId2: friendId }\r\n        });\r\n        this.messages = response.data;\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    async sendMessage() {\r\n      if (!this.newMessage || !this.selectedFriend) return;\r\n\r\n      try {\r\n        const response = await axios.post('/user/sendMessage', {\r\n          senderId: this.currentUser.user_id,\r\n          receiverId: this.selectedFriend.friendId,\r\n          content: this.newMessage\r\n        });\r\n        this.messages.push(response.data);\r\n        this.newMessage = '';\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    closeChat() {\r\n      this.selectedFriend = null;\r\n    },\r\n\r\n    async sendFriendRequest() {\r\n      try {\r\n        const response = await axios.post('/user/sendFriendRequest', {\r\n          senderId: this.currentUser.user_id,\r\n          receiverId: this.selectedFriend.user_id\r\n        });\r\n        this.dialogVisible = false;\r\n        this.$message.success(response.data);\r\n      } catch (error) {\r\n        console.error(error);\r\n        this.$message.error('Failed to send friend request.');\r\n      }\r\n    },\r\n    async acceptFriendRequest(requestId) {\r\n      try {\r\n        const response = await axios.post('/user/acceptFriendRequest', { requestId });\r\n        this.$message.success(response.data);\r\n        await this.fetchFriendRequests();\r\n        await this.fetchFriends();\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n\r\n    EXIT() {\r\n      localStorage.removeItem('userId');\r\n      this.$router.push('/');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n\r\n\r\n.main-page {\r\n  display: flex;\r\n  height: 100vh;\r\n  background: linear-gradient(120deg, #FFFFFF 0%, #8fd3f4 100%); /* ËÉåÊôØÊ∏êÂèòÈ¢úËâ≤ */\r\n}\r\n\r\n.header {\r\n  background: #0056b3; /* ÂçäÈÄèÊòéÈªëËâ≤ËÉåÊôØ */\r\n  color: white;\r\n  padding: 10px;\r\n  text-align: center;\r\n  font-size: 24px;\r\n}\r\n\r\n.header-content {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n\r\n.header-title {\r\n   position: absolute;\r\n   left: 50%;\r\n   transform: translateX(-50%);\r\n   font-size: 1.5em; /* Êõ¥Â§ß‰∏Ä‰∫õÁöÑÂ≠ó‰Ωì */\r\n   font-weight: bold;\r\n   font-family: 'Brush Script MT', cursive; /* È£òÈÄ∏ÁöÑÂ≠ó‰Ωì */\r\n   color: #ffffff; /* Á∫ØÁôΩËâ≤ */\r\n   text-shadow: 2px 2px 4px #000000; /* Ê∑ªÂä†Êõ¥Â§öÁöÑÊñáÊú¨Èò¥ÂΩ±‰ª•ÊèêÈ´òÂèØËØªÊÄß */\r\n}\r\n\r\n\r\n\r\n.user-info {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.avatar {\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.user_name {\r\n  margin-left: 10px;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n}\r\n\r\n.logout-button {\r\n  background-color: #20C997;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 20px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.sidebar {\r\n  width: 300px;\r\n  background: rgba(255, 255, 255, 0.8); /* ÂçäÈÄèÊòéÁôΩËâ≤ËÉåÊôØ */\r\n  padding: 20px;\r\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1); /* ËΩªÂæÆÈò¥ÂΩ± */\r\n  border-right: 1px solid #ddd;\r\n}\r\n\r\n.title {\r\n  background-color: #0056b3; /* Êõ¥Âä†ÊüîÂíåÁöÑÁªøËâ≤ËÉåÊôØ */\r\n  color: white;\r\n  padding: 3px;\r\n  font-size: 1.5em;\r\n  font-weight: bold;\r\n  border-radius: 10px;\r\n  margin-bottom: 10px;\r\n  text-align: center;\r\n  font-family: 'Lucida Handwriting', cursive; /* ‰ΩøÁî®Êõ¥Âä†È£òÈÄ∏ÁöÑÂ≠ó‰Ωì */\r\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); /* Ê∑ªÂä†ÊñáÊú¨Èò¥ÂΩ±‰ª•ÊèêÈ´òÂèØËØªÊÄß */\r\n}\r\n\r\n.list-container {\r\n  background-color: rgba(255, 255, 255, 0.8); /* ÂçäÈÄèÊòéÁôΩËâ≤ËÉåÊôØ */\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Ê∑ªÂä†Èò¥ÂΩ±ÊïàÊûú */\r\n}\r\n.friend-list, .request-list {\r\n  height: 200px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.friend-item {\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: rgba(255, 255, 255, 0.7); /* ÂçäÈÄèÊòéÁôΩËâ≤ËÉåÊôØ */\r\n  margin-bottom: 1px;\r\n  padding: 1px;\r\n  border-radius: 1px;\r\n  line-height: 0; /* Ê∑ªÂä†Ëøô‰∏ÄË°å‰ª•ÂáèÂ∞ëÈ°πÁöÑ‰∏ä‰∏ãÈ´òÂ∫¶ */\r\n}\r\n\r\n\r\n.content {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.el-autocomplete {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.friend-request-buttons {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin-top: 5px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainPage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainPage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MainPage.vue?vue&type=template&id=06ae41d1&scoped=true\"\nimport script from \"./MainPage.vue?vue&type=script&lang=js\"\nexport * from \"./MainPage.vue?vue&type=script&lang=js\"\nimport style0 from \"./MainPage.vue?vue&type=style&index=0&id=06ae41d1&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06ae41d1\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport LoginPage from '../pages/Login.vue';\r\nimport MainPage from '../pages/MainPage.vue';\r\n\r\nVue.use(Router);\r\n\r\nexport default new Router({\r\n    mode: 'hash',\r\n    base: process.env.BASE_URL,\r\n    routes: [\r\n        {\r\n            path: '/',\r\n            name: 'Login',\r\n            component: LoginPage\r\n        },\r\n        {\r\n            path: '/main',\r\n            name: 'MainPage',\r\n            component: MainPage\r\n        }\r\n    ]\r\n});\r\n","import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\n\nVue.config.productionTip = false;\nVue.use(ElementUI);\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkchat\"] = self[\"webpackChunkchat\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(3536); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticRenderFns","name","component","staticClass","_v","loginForm","nativeOn","$event","preventDefault","handleLogin","apply","arguments","model","value","user_name","callback","$$v","$set","expression","password","on","instance","axios","create","baseURL","timeout","headers","data","methods","console","log","response","post","user_id","localStorage","setItem","$router","push","$message","error","triggerFileInput","currentUser","avatar","_s","ref","staticStyle","handleFileChange","EXIT","searchFriends","handleSelect","scopedSlots","_u","key","fn","item","searchQuery","_l","friends","friend","index","id","toString","selectFriend","username","friendRequests","request","senderuser_name","acceptFriendRequest","selectedFriend","isFriend","messages","newMessage","sendMessage","closeChat","_e","dialogVisible","slot","sendFriendRequest","localMessages","message","class","senderId","content","_m","directives","rawName","localMessage","domProps","type","indexOf","_k","keyCode","target","composing","props","Object","Array","localcurrentUser","watch","handler","newMessages","scrollToBottom","immediate","fetchCurrentUser","getItem","get","localCurrentUser","baseUrl","trim","receiverId","friendId","senderUsername","messageContent","senderAvatarUrl","timestamp","Date","toISOString","$emit","$nextTick","container","$refs","messageContainer","scrollTop","scrollHeight","components","ChatWindow","created","fetchFriends","fetchFriendRequests","filter","map","userId","fileInput","click","event","file","files","uploadAvatar","formData","FormData","append","queryString","params","results","user","some","find","f","fetchMessages","userId1","userId2","success","requestId","removeItem","Vue","use","Router","mode","base","process","routes","path","LoginPage","MainPage","config","productionTip","ElementUI","router","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","amdO","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","i","length","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}